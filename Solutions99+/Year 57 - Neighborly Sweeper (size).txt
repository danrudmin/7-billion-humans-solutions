-- 7 Billion Humans (2199) --
-- 57: Neighborly Sweeper --

a:
step nw,w,sw,n,s,ne,e,se
mem2 = foreachdir nw,w,sw,n,s,ne,e,se:
	if sw = 5 and
	 nw = 4 and
	 e = 4 or
	 c = 0 or
	 mem1 > 0 and
	 mem2 >= 0: 
		mem1 = calc mem1 + 1
		pickup c
		write mem1
		drop
	endif
endfor
mem1 = set 0
jump a
